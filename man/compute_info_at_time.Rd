% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gsNBCalendar.R
\name{compute_info_at_time}
\alias{compute_info_at_time}
\title{Compute Statistical Information at Analysis Time}
\usage{
compute_info_at_time(
  analysis_time,
  accrual_rate,
  accrual_duration,
  lambda1,
  lambda2,
  dispersion,
  ratio = 1
)
}
\arguments{
\item{analysis_time}{The calendar time of the analysis.}

\item{accrual_rate}{The enrollment rate (subjects per time unit).}

\item{accrual_duration}{The duration of the enrollment period.}

\item{lambda1}{Event rate for group 1 (control).}

\item{lambda2}{Event rate for group 2 (treatment).}

\item{dispersion}{The negative binomial dispersion parameter.}

\item{ratio}{Allocation ratio (n2/n1). Default is 1.}
}
\value{
The statistical information (inverse of variance) at the analysis time.
}
\description{
Computes the statistical information for the log rate ratio at a given
analysis time, accounting for staggered enrollment and varying exposure times.
}
\details{
For subjects enrolled at time \code{t}, their exposure at analysis time \code{T}
is \code{T - t}. The function integrates over all enrolled subjects to compute
the total expected events and variance of the log rate ratio.

The variance formula for the log rate ratio is:
\deqn{Var = \sum_i \frac{1/\mu_{1i} + k}{n_{1i}} + \frac{1/\mu_{2i} + k}{n_{2i}}}

where \eqn{\mu_{ji} = \lambda_j \times exposure_i} and \eqn{k} is the dispersion.
}
\examples{
# Compute information at month 12 for a trial with:
# - 10 subjects/month enrollment rate
# - 20 month enrollment period
# - Control event rate 0.5, treatment rate 0.3
# - Dispersion 0.1
compute_info_at_time(
  analysis_time = 12,
  accrual_rate = 10,
  accrual_duration = 20,
  lambda1 = 0.5,
  lambda2 = 0.3,
  dispersion = 0.1
)
}
