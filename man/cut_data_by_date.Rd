% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cut_data_by_date.R
\name{cut_data_by_date}
\alias{cut_data_by_date}
\title{Cut simulated trial data at a calendar date}
\usage{
cut_data_by_date(data, cut_date, event_gap = 5/365.25, ...)
}
\arguments{
\item{data}{Data generated by \code{\link[=nb_sim]{nb_sim()}}.}

\item{cut_date}{Calendar time (relative to trial start) at which to censor follow-up.}

\item{event_gap}{Gap duration after each event during which no new events are counted.
Can be a numeric value (default \code{5 / 365.25}) or a function returning a numeric value.
The time at risk is reduced by the sum of these gaps (truncated by the cut date).}

\item{...}{Additional arguments passed to methods.}
}
\value{
A data frame with one row per subject randomized prior to \code{cut_date} containing
the truncated follow-up time (\code{tte}) and total number of observed events (\code{events}).
}
\description{
Censors follow-up at a specified calendar time and aggregates events per subject.
Returns one row per subject randomized before the cut date, with the total
number of observed events and the truncated follow-up time (adjusted for any
event gaps).
}
\examples{
enroll_rate <- data.frame(rate = 20 / (5 / 12), duration = 5 / 12)
fail_rate <- data.frame(treatment = c("Control", "Experimental"), rate = c(0.5, 0.3))
dropout_rate <- data.frame(
  treatment = c("Control", "Experimental"),
  rate = c(0.1, 0.05), duration = c(100, 100)
)
sim <- nb_sim(enroll_rate, fail_rate, dropout_rate, max_followup = 2, n = 20)
cut_data_by_date(sim, cut_date = 1)
}
